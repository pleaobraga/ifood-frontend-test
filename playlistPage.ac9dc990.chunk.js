(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{310:function(e,n,a){"use strict";a.r(n),a.d(n,"default",(function(){return Ve}));var t=a(112),r=a.n(t),c=a(0),i=a.n(c),o=a(74),l=a(169),s=a(171),u=a(174),m=a(8),d=a.n(m),p=a(27),f=a(304),b=a(202),g=a.n(b),h=a(261),v=a.n(h),y=a(69),j=a.n(y),O=a(41);function E(){var e=j()(["\n  ","\n"]);return E=function(){return e},e}var x=Object(O.b)(u.a)(E(),(function(e){var n=e.theme;return"\n  width: 100%;\n  height: 100%;\n\n  .card__image {\n    width: 100%;\n    height: 100%;\n  }\n\n  .bg-icon {\n    width: 100%;\n    height: 100%;\n    color: ".concat(n.palette.background.default,";\n  }\n  ")})),_=function(e){var n=e.imgSrc,a=e.alt,t=Object(c.useState)(!1),r=g()(t,2),o=r[0],l=r[1];return i.a.createElement(x,null,o||!n?i.a.createElement(v.a,{className:"bg-icon"}):i.a.createElement("img",{className:"card__image",src:n,onError:function(){l(!0)},alt:a}))};_.propTypes={imgSrc:d.a.string,alt:d.a.string};var w=_,N=a(302);function P(){var e=j()(["\n  ","\n"]);return P=function(){return e},e}var k=Object(O.b)(N.a)(P(),(function(e){var n=e.theme;return"\n  width: 230px;\n  margin: 0.5rem 1rem 0.5rem 0;\n\n  :hover {\n    background: ".concat(n.palette.background.paperHover,";\n  }\n\n  .card {\n    &__content {\n      display: flex;\n      flex-direction: column;\n      text-decoration: none;\n    }\n\n    &__image {\n      width: 200px;\n      height: 200px;\n    }\n\n    &__title {\n      margin-top: 20px;\n      font-weight: bold;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n  ")})),T=function(e){var n=e.link,a=e.imgSrc,t=e.name;return i.a.createElement(k,null,i.a.createElement(f.a,{className:"card__content",component:"a",target:"_blank",href:n},i.a.createElement(u.a,{className:"card__image"},i.a.createElement(w,{imgSrc:a,alt:"imagem do album"})),i.a.createElement(s.a,{className:"card__title",align:"left",color:"textPrimary"},t)))};T.propTypes={link:d.a.string,imgSrc:d.a.string,name:d.a.string.isRequired};var C=T,F=a(72);function S(){var e=j()(["\n  display: flex;\n  height: 500px;\n  align-items: center;\n  justify-content: center;\n"]);return S=function(){return e},e}function R(){var e=j()(["\n  display: flex;\n  flex-wrap: wrap;\n\n  width: 100%;\n  height: 100%;\n"]);return R=function(){return e},e}var q=Object(O.b)(u.a)(R()),z=Object(O.b)(F.a)(S()),B=function(e){var n=e.className,a=e.playlistsFiltered,t=e.isFetching,r=e.error;return t?i.a.createElement(z,null):Object(p.isNull)(r)?0===a.length?i.a.createElement(s.a,{className:"play-lists__empty",color:"textPrimary"},"Nenhum item a ser exibido."):i.a.createElement(q,{className:n},a.map((function(e){var n=e.external_urls,a=e.id,t=e.name,r=e.images;return i.a.createElement(C,{key:a,name:t,imgSrc:r[0].url,link:n.spotify})}))):i.a.createElement(s.a,{className:"play-lists__error",color:"textPrimary"},r)};B.propTypes={className:d.a.string,playlistsFiltered:d.a.array,isFetching:d.a.bool,error:d.a.string},B.defaultProps={className:"",playlistsFiltered:[]};var I=B,D=a(36),M=a.n(D),V=a(276),H=a(90),A=a(267),W=a.n(A),G=a(305),L=function(e){var n=e.onClick;return i.a.createElement(G.a,{onClick:n,"aria-label":"filter"},i.a.createElement(W.a,{fontSize:"large"}))};L.propTypes={onClick:d.a.func.isRequired};var J=L,U=a(307),$=a(33),K=a.n($),Q=a(311);function X(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Y(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?X(Object(a),!0).forEach((function(n){K()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var Z=function(e){var n=e.values,a=e.handleChange,t=e.handleBlur,r=e.errors,c=e.name,o=e.label,l=e.type,s=e.select,u=e.disabled,m=e.className,d=e.inputPropsTF,f=e.placeholder,b=e.size;return i.a.createElement(Q.a,{disabled:u,className:m,label:o,name:c,value:Object(p.get)(n,c)||"",onChange:a,onBlur:t,helperText:Object(p.has)(r,c)&&Object(p.get)(r,c),error:Object(p.has)(r,c),margin:"normal",variant:"outlined",select:s,placeholder:f,size:b,fullWidth:!0,inputProps:{type:l},InputProps:Y({},d),SelectProps:{MenuProps:{disablePortal:!0}}},e.children)};Z.propTypes={label:d.a.string,name:d.a.string.isRequired,errors:d.a.object.isRequired,handleBlur:d.a.func.isRequired,handleChange:d.a.func.isRequired,values:d.a.object.isRequired,type:d.a.string.isRequired,select:d.a.bool,children:d.a.node,className:d.a.string,onClick:d.a.func,inputPropsTF:d.a.object,disabled:d.a.bool,placeholder:d.a.string,size:d.a.string},Z.defaultProps={type:"text",select:!1,className:"",onClick:function(){},inputPropsTF:{},disabled:!1};var ee=Z,ne=a(107),ae=a(32),te=a(309),re=a(268),ce=a.n(re),ie=function(e){var n=e.values,a=e.errors,t=e.name,r=e.label,c=e.className,o=e.setFieldValue,l=e.setFieldTouched,s=e.format,u=e.size,m=e.disabled,d=e.userDateFormat;return i.a.createElement(te.a,{disabled:m,allowKeyboardControl:!0,className:c,label:r,name:t,value:Object(p.get)(n,t)||null,onChange:function(e){o(t,Object(ne.a)(e,s)||"")},onBlur:function(){l(t,!0)},helperText:Object(p.has)(a,t)&&Object(p.get)(a,t),error:Object(p.has)(a,t),margin:"normal",inputVariant:"outlined",size:u,ampm:!1,labelFunc:function(e){return Object(ae.a)(e)?Object(ne.a)(new Date(e),d):""},fullWidth:!0,InputProps:{startAdornment:i.a.createElement(G.a,{onClick:function(e){e.stopPropagation(),e.preventDefault(),o(t,"")},style:{order:1}},i.a.createElement(ce.a,{color:"disabled",fontSize:"small"}))}})};ie.propTypes={label:d.a.string,name:d.a.string.isRequired,errors:d.a.object.isRequired,values:d.a.object.isRequired,className:d.a.string,format:d.a.string,setFieldValue:d.a.func.isRequired,setFieldTouched:d.a.func.isRequired,size:d.a.string,disabled:d.a.bool,userDateFormat:d.a.string},ie.defaultProps={className:"",disabled:!1,format:"dd/MM/yyyy HH:mm",userDateFormat:"dd/MM/yyyy HH:mm"};var oe=ie,le=a(316),se=a(269),ue=a.n(se),me=a(275),de=a(272);me.setLocale({number:{min:"Número deve ser maior que ${min}",max:"Número deve ser menor que ${max}"}}),me.addMethod(me.date,"pattern",(function(e){var n=fe(e);return me.string().test("pattern","Utilize o padrão ".concat(e),(function(e){return!e||0===e.length||Object(de.a)(e,n)}))}));var pe=Object.assign({},me),fe=function(e){return e.replace(/T/gm,(function(e){return"'".concat(e,"'")}))},be=function(e){switch(e){case"STRING":return{yupType:"string",message:"Insira caracteres válidos",type:"text"};case"INTEGER":case"FLOAT":return{yupType:"number",message:"Insira um número válido",inputType:"number"};case"DATE_TIME":return{yupType:"date",message:"Insira uma data válida",type:"datetime-local"};default:return{yuptype:"mixed",message:"Insira caracteres válidos",type:"text"}}},ge=function(e,n){var a=n.id,t=n.validation;if(!t)return e[a]=pe.mixed(),e;var r=t.primitiveType,c=t.entityType,i=ue()(t,["primitiveType","entityType"]),o=be(c||r),l=pe[o.yupType]().typeError(o.message);return Object(p.forIn)(i,(function(e,n){l[n]&&(l=l[n](e))})),e[a]=l,e};function he(e,n){var a=Object(c.useState)(e),t=g()(a,2),r=t[0],i=t[1];return Object(c.useEffect)((function(){var a=setTimeout((function(){i(e)}),n);return function(){clearTimeout(a)}}),[e,n]),r}function ve(){var e=j()(["\n  ","\n"]);return ve=function(){return e},e}var ye=Object(O.b)(u.a)(ve(),(function(e){var n=e.theme;return"\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-top: ".concat(n.spacing(2),"px;\n  margin-bottom: ").concat(n.spacing(2),"px;\n\n  max-height: calc(100vh - 100px);\n\n  .advanced-filter {\n    &__title {\n      font-weight: bold;\n\n      ").concat(n.breakpoints.down("sm")," {\n        margin-bottom: ").concat(n.spacing(2),"px;\n      }\n    }\n\n    &__filters-container{\n      overflow-y: auto;\n      overflow-x: hidden;\n    }\n\n    &__filter {\n        &.MuiGrid-item{\n          padding-top: 0;\n        }\n      }\n    }\n  }\n  ")})),je=function(e){var n,a=e.formikProps,t=e.filters,o=e.isFetching,l=e.error,m=e.onValuesChange,d=e.className,f=he(null===(n=a.values)||void 0===n?void 0:n.advanced,250);Object(c.useEffect)((function(){var e=a.values,n=a.errors,t=Object(p.has)(n,"advanced");m({values:e.advanced,hasErrors:t})}),[f]);return i.a.createElement(ye,{className:d},i.a.createElement(s.a,{element:"h2",color:"textPrimary",className:"advanced-filter__title"},"Filtros avançados"),o?i.a.createElement(u.a,{paddingTop:2},i.a.createElement(F.a,null)):Object(p.isEmpty)(l)?0===t.length?i.a.createElement(s.a,{className:"advanced-filter__empty",color:"textPrimary"},"Não existem filtros avançados"):i.a.createElement(U.a,{container:!0,spacing:2,wrap:"wrap",className:"advanced-filter__filters-container"},t.map((function(e){return i.a.createElement(U.a,{item:!0,md:3,sm:4,xs:12,key:"grid-".concat(e.id),className:"advanced-filter__filter"},function(e){var n=e.fieldData,a=void 0===n?null:n,t=e.formikProps;if(a){if(a.values)return i.a.createElement(ee,r()({name:"advanced.".concat(a.id),label:a.name,select:!0},t),i.a.createElement(le.a,{value:""},i.a.createElement("em",null,"Limpar")),a.values.map((function(e){return i.a.createElement(le.a,{key:e.value,value:e.value},e.name)})));var c=a.validation,o=c.primitiveType,l=c.entityType,s=be(l||o).type;return"datetime-local"===s?i.a.createElement(oe,r()({},t,{name:"advanced.".concat(a.id),label:a.name,format:fe(a.validation.pattern)})):i.a.createElement(ee,r()({name:"advanced.".concat(a.id),label:a.name,type:s},t))}}({fieldData:e,formikProps:a}))}))):i.a.createElement(s.a,{className:"advanced-filter__error",color:"textPrimary"},"Houve um erro ao carregar os filtros"))};je.propTypes={onValuesChange:d.a.func,formikProps:d.a.object.isRequired,filters:d.a.array,isFetching:d.a.bool,error:d.a.object,className:d.a.string},je.defaultProps={filters:[],className:"",onValuesChange:function(){}};var Oe=je,Ee=a(308),xe=a(306),_e=a(273),we=a.n(_e),Ne=function(e){var n=e.onSearchBarChange,a=e.formikProps,t=e.placeholder,o=e.name,l=Object(p.get)(a.values,o);return Object(c.useEffect)((function(){n(l)}),[l,n]),i.a.createElement(ee,r()({},a,{name:o,placeholder:t,inputPropsTF:{startAdornment:i.a.createElement(xe.a,{position:"start"},i.a.createElement(we.a,null))}}))};Ne.propTypes={onSearchBarChange:d.a.func,formikProps:d.a.object.isRequired,placeholder:d.a.string,name:d.a.string},Ne.defaultProps={placeholder:"Pesquisar",name:"searchBar",onSearchBarChange:function(){}};var Pe=Ne,ke=a(303);function Te(){var e=j()(["\n  ","\n"]);return Te=function(){return e},e}var Ce=Object(O.b)(ke.a)(Te(),(function(e){var n=e.theme;return"\n  display: flex;\n  position: fixed;\n  background: ".concat(n.palette.background.default,";\n  z-index: 2;\n  width: 100%;\n  padding-bottom: ").concat(n.spacing(1),"px;\n\n  .hide {\n    display: none;\n  }\n\n  .filter {\n    &__form {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n\n      .main-filter {\n        display: flex;\n        width: 100%;\n        align-items: center;\n      }\n    }\n  }\n\n  .brand {\n    margin-right: 3rem;\n    font-size: 2rem;\n    font-weight: bold;\n\n    ").concat(n.breakpoints.down("sm")," {\n      margin-right: ").concat(n.spacing(2),"px;\n    }\n\n\n    ").concat(n.breakpoints.down("xs")," {\n      display:none\n    }\n  }\n\n  .loader {\n    margin-left: ").concat(n.spacing(2),"px;\n  }\n  ")})),Fe=a(274),Se=a.n(Fe),Re=function(e){var n=e.onSearchBarChange,a=e.onFiltersChange,t=e.onPageError,m=e.className,d=Object(c.useState)(!1),p=g()(d,2),f=p[0],b=p[1],h=Object(o.c)(H.c),v=Object(o.c)(H.e),y=Object(o.c)(H.b),j=Object(o.c)(H.d),O=function(){b(!f)},E=Object(c.useMemo)((function(){return e=y.reduce(ge,{}),pe.object().shape({advanced:pe.object().shape(e)});var e}),[y]),x=Object(c.useMemo)((function(){return{advanced:M()(y).reduce((function(e,n){return e[n.id]="",e}),{}),searchBar:""}}),[y]);Object(c.useEffect)((function(){!0===t&&b(!1)}),[t]);var _=Se()({hide:!f});return i.a.createElement(Ee.a,{onClickAway:function(){f&&b(!1)}},i.a.createElement(Ce,{component:"header",className:m},i.a.createElement(l.a,{maxWidth:"lg"},i.a.createElement(V.a,{initialValues:x,validationSchema:E,validateOnChange:!0,enableReinitialize:!0},(function(e){return i.a.createElement(u.a,{className:"filter__form",component:"form"},i.a.createElement(u.a,{className:"main-filter"},i.a.createElement(s.a,{className:"brand",component:"h2",color:"primary"},"Spotifood"),i.a.createElement(Pe,{formikProps:e,onSearchBarChange:n}),v?i.a.createElement(F.a,{className:"loader"}):y.length>0&&!j?i.a.createElement(J,{onClick:O}):void 0),i.a.createElement(Oe,r()({className:_,formikProps:e,onValuesChange:a},h)))})))))};Re.propTypes={onSearchBarChange:d.a.func,onFiltersChange:d.a.func,onPageError:d.a.bool,className:d.a.string},Re.defaultProps={className:""};var qe=Re,ze=a(29),Be=a(14),Ie=a(37);function De(){var e=j()(["\n  ","\n"]);return De=function(){return e},e}var Me=Object(O.b)(u.a)(De(),(function(e){var n=e.theme;return"\n\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n\n  width: 100%;\n  min-width: 100%;\n\n  padding-top: 100px;\n  padding-bottom: ".concat(n.spacing(3),"px;\n\n  background: ").concat(n.palette.background.default,";\n\n\n  .page{\n    &__title {\n      font-size: 2.5rem;\n      font-weight: bold;\n      \n      margin: ").concat(n.spacing(2),"px 0;\n\n      ").concat(n.breakpoints.down("xs")," {\n        text-align: center;\n      }\n    }\n\n    &__card-list {\n      ").concat(n.breakpoints.down("xs")," {\n        justify-content: space-around;\n      }\n    }\n  }\n\n   ")})),Ve=function(){var e=Object(o.b)(),n=Object(o.c)(Ie.f),a=Object(o.c)(Ie.b),t=Object(o.c)(Ie.d),m=Object(o.c)(Ie.c),d=he(a,3e4),f=Object(c.useCallback)((function(){!t&&e(Object(Be.d)({filter:m,updateIsFetching:!1}))}),[e,t,m]);Object(c.useEffect)((function(){f()}),[d]);var b=Object(c.useCallback)((function(){return e(Object(ze.b)())}),[e]);Object(c.useEffect)((function(){b()}),[b]);var g=Object(c.useCallback)((function(){return e(Object(Be.d)({filter:""}))}),[e]);Object(c.useEffect)((function(){g()}),[g]);var h=Object(c.useCallback)((function(n){return e(Object(Be.a)({filter:n}))}),[e]),v=Object(c.useCallback)((function(n){var a,t,r=n.values;if(!n.hasErrors){var c=(a=r,t=[],Object(p.forIn)(a,(function(e,n){""!==e&&t.push("".concat(n,"=").concat(encodeURIComponent(e)))})),t.length>0?"?"+t.join("&"):"");c!==m&&e(Object(Be.d)({filter:c}))}}),[e,m]),y=Object(c.useMemo)((function(){return t}),[t]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(qe,{onSearchBarChange:h,onFiltersChange:v,onPageError:y}),i.a.createElement(Me,{component:"main"},i.a.createElement(l.a,{className:"page__container",maxWidth:"lg"},i.a.createElement(u.a,{component:"section"},i.a.createElement(s.a,{component:"h1",color:"textPrimary",className:"page__title"},"Playlists"),i.a.createElement(I,r()({className:"page__card-list"},n))))))}}}]);
//# sourceMappingURL=playlistPage.ac9dc990.chunk.js.map